<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Charter Flights">
    <title>Charter Flights</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Charter Flights</h1>
            <div class="header-buttons">
                <button class="btn btn-secondary" onclick="openArchivedTrips()">
                    Viagens Arquivadas
                </button>
                <button class="btn btn-secondary" onclick="openPassengersDatabase()">
                    Base de Passageiros
                </button>
                <button class="add-trip-btn" onclick="openNewTripModal()">
                    + Nova Viagem
                </button>
            </div>
        </header>

        <div id="trips-grid" class="trips-grid">
            <!-- Cards de viagens serão inseridos aqui -->
        </div>

        <div class="empty-state" id="empty-state">
            <h2>Nenhuma viagem cadastrada</h2>
            <p>Clique no botão acima para adicionar sua primeira viagem</p>
        </div>
    </div>

    <!-- Modal: Nova Viagem -->
    <div class="modal" id="new-trip-modal">
        <div class="modal-content">
            <div class="modal-header">
                <span>Nova Viagem</span>
                <button class="close-modal-btn" onclick="closeNewTripModal()">×</button>
            </div>
            <form id="new-trip-form" onsubmit="addTrip(event)">
                <div class="form-group">
                    <label for="trip-code">Código do Voo *</label>
                    <input type="text" id="trip-code" required placeholder="Ex: 7GVHM6">
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="origin">Origem *</label>
                        <input type="text" id="origin" required placeholder="Ex: TFFF">
                    </div>
                    <div class="form-group">
                        <label for="destination">Destino *</label>
                        <input type="text" id="destination" required placeholder="Ex: LGAV">
                    </div>
                </div>

                <div class="form-group">
                    <label for="trip-date">Data do Voo *</label>
                    <input type="date" id="trip-date" required>
                </div>

                <div class="form-group">
                    <label for="client-name">Nome do Cliente</label>
                    <input type="text" id="client-name" placeholder="Ex: Nome do Cliente">
                </div>

                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeNewTripModal()">Cancelar</button>
                    <button type="submit" class="btn btn-primary">Criar Viagem</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal: Editar Viagem -->
    <div class="modal" id="edit-trip-modal">
        <div class="modal-content">
            <div class="modal-header">
                <span>Editar Viagem</span>
                <button class="close-modal-btn" onclick="closeEditTripModal()">×</button>
            </div>
            <form id="edit-trip-form" onsubmit="saveEditTrip(event)">
                <input type="hidden" id="edit-trip-id">
                
                <div class="form-group">
                    <label for="edit-trip-code">Código do Voo *</label>
                    <input type="text" id="edit-trip-code" required placeholder="Ex: 7GVHM6">
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="edit-origin">Origem *</label>
                        <input type="text" id="edit-origin" required placeholder="Ex: TFFF">
                    </div>
                    <div class="form-group">
                        <label for="edit-destination">Destino *</label>
                        <input type="text" id="edit-destination" required placeholder="Ex: LGAV">
                    </div>
                </div>

                <div class="form-group">
                    <label for="edit-trip-date">Data do Voo *</label>
                    <input type="date" id="edit-trip-date" required>
                </div>

                <div class="form-group">
                    <label for="edit-client-name">Nome do Cliente</label>
                    <input type="text" id="edit-client-name" placeholder="Ex: Nome do Cliente">
                </div>

                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeEditTripModal()">Cancelar</button>
                    <button type="submit" class="btn btn-primary">Salvar Alterações</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal: Detalhes da Viagem -->
    <div class="modal" id="trip-details-modal">
        <div class="modal-content large">
            <div class="modal-header">
                <span>Detalhes da Viagem</span>
                <button class="close-modal-btn" onclick="closeTripDetailsModal()">×</button>
            </div>

            <div class="trip-details-header" id="trip-details-header">
                <!-- Informações da viagem serão inseridas aqui -->
            </div>

            <!-- Seção de Passageiros -->
            <div class="section-title">
                <span>Passageiros (<span id="passengers-count">0</span>)</span>
                <button class="btn btn-success" onclick="openAddPassengerModal()">+ Adicionar Passageiro</button>
            </div>
            <div class="passengers-list" id="passengers-list">
                <p style="color: #718096; text-align: center; padding: 20px;">Nenhum passageiro adicionado</p>
            </div>

            <!-- Seção de Documentos -->
            <div class="section-title">
                <span>Documentos</span>
            </div>
            <div class="file-section">
                <div class="file-category">
                    <div class="file-category-title">
                        Flight Brief
                        <span class="file-count" id="flight-brief-count">(0/10)</span>
                    </div>
                    <div class="file-input-wrapper">
                        <label class="file-input-label" for="flight-brief-input">
                            Selecionar PDFs
                        </label>
                        <input type="file" id="flight-brief-input" class="file-input" accept=".pdf" multiple onchange="handleFileUpload(event, 'flightBrief')">
                    </div>
                    <div class="files-list" id="flight-brief-list"></div>
                </div>

                <div class="file-category">
                    <div class="file-category-title">
                        Contrato
                        <span class="file-count" id="contrato-count">(0/10)</span>
                    </div>
                    <div class="file-input-wrapper">
                        <label class="file-input-label" for="contrato-input">
                            Selecionar PDFs
                        </label>
                        <input type="file" id="contrato-input" class="file-input" accept=".pdf" multiple onchange="handleFileUpload(event, 'contrato')">
                    </div>
                    <div class="files-list" id="contrato-list"></div>
                </div>

                <div class="file-category">
                    <div class="file-category-title">
                        Passaporte
                        <span class="file-count" id="passaporte-count">(0/10)</span>
                    </div>
                    <div class="file-input-wrapper">
                        <label class="file-input-label" for="passaporte-input">
                            Selecionar PDFs
                        </label>
                        <input type="file" id="passaporte-input" class="file-input" accept=".pdf" multiple onchange="handleFileUpload(event, 'passaporte')">
                    </div>
                    <div class="files-list" id="passaporte-list"></div>
                </div>

                <div class="file-category">
                    <div class="file-category-title">
                        Invoice
                        <span class="file-count" id="invoice-count">(0/10)</span>
                    </div>
                    <div class="file-input-wrapper">
                        <label class="file-input-label" for="invoice-input">
                            Selecionar PDFs
                        </label>
                        <input type="file" id="invoice-input" class="file-input" accept=".pdf" multiple onchange="handleFileUpload(event, 'invoice')">
                    </div>
                    <div class="files-list" id="invoice-list"></div>
                </div>
            </div>

            <!-- Seção de Observações -->
            <div class="section-title">
                <span>Observações</span>
            </div>
            <div class="observations-section">
                <textarea 
                    id="trip-observations" 
                    placeholder="Digite observações sobre esta viagem (opcional)..." 
                    onchange="saveObservations()"
                    rows="4"
                ></textarea>
            </div>
        </div>
    </div>

    <!-- Modal: Adicionar Passageiro -->
    <div class="modal" id="add-passenger-modal">
        <div class="modal-content">
            <div class="modal-header">
                <span>Adicionar Passageiro</span>
                <button class="close-modal-btn" onclick="closeAddPassengerModal()">×</button>
            </div>
            <form id="passenger-form" onsubmit="addPassenger(event)">
                <div class="form-group">
                    <label for="passenger-name">Nome Completo *</label>
                    <input type="text" id="passenger-name" required placeholder="Ex: João da Silva" autocomplete="off">
                    <small style="color: #718096; font-size: 12px; margin-top: 4px; display: block;">
                        Digite para buscar passageiros cadastrados
                    </small>
                </div>

                <div class="form-group">
                    <label for="passenger-passport">Número do Passaporte *</label>
                    <input type="text" id="passenger-passport" required placeholder="Ex: BR123456">
                </div>

                <div class="form-group">
                    <label for="passport-expiry">Vencimento do Passaporte *</label>
                    <input type="date" id="passport-expiry" required>
                </div>

                <div class="form-group">
                    <label for="birth-date">Data de Nascimento *</label>
                    <input type="date" id="birth-date" required>
                </div>

                <div class="form-group">
                    <label for="passenger-gender">Sexo *</label>
                    <select id="passenger-gender" required>
                        <option value="">Selecione...</option>
                        <option value="male">Masculino</option>
                        <option value="female">Feminino</option>
                    </select>
                </div>

                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeAddPassengerModal()">Cancelar</button>
                    <button type="submit" class="btn btn-primary">Adicionar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal: Editar Passageiro -->
    <div class="modal" id="edit-passenger-modal">
        <div class="modal-content">
            <div class="modal-header">
                <span>Editar Passageiro</span>
                <button class="close-modal-btn" onclick="closeEditPassengerModal()">×</button>
            </div>
            <form id="edit-passenger-form" onsubmit="saveEditPassenger(event)">
                <input type="hidden" id="edit-passenger-id">
                
                <div class="form-group">
                    <label for="edit-passenger-name">Nome Completo *</label>
                    <input type="text" id="edit-passenger-name" required placeholder="Ex: João da Silva">
                </div>

                <div class="form-group">
                    <label for="edit-passenger-passport">Número do Passaporte *</label>
                    <input type="text" id="edit-passenger-passport" required placeholder="Ex: BR123456">
                </div>

                <div class="form-group">
                    <label for="edit-passport-expiry">Vencimento do Passaporte *</label>
                    <input type="date" id="edit-passport-expiry" required>
                </div>

                <div class="form-group">
                    <label for="edit-birth-date">Data de Nascimento *</label>
                    <input type="date" id="edit-birth-date" required>
                </div>

                <div class="form-group">
                    <label for="edit-passenger-gender">Sexo *</label>
                    <select id="edit-passenger-gender" required>
                        <option value="">Selecione...</option>
                        <option value="male">Masculino</option>
                        <option value="female">Feminino</option>
                    </select>
                </div>

                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeEditPassengerModal()">Cancelar</button>
                    <button type="submit" class="btn btn-primary">Salvar Alterações</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal: Base de Dados de Passageiros -->
    <div class="modal" id="passengers-database-modal">
        <div class="modal-content large">
            <div class="modal-header">
                <span>Base de Dados de Passageiros</span>
                <button class="close-modal-btn" onclick="closePassengersDatabase()">×</button>
            </div>
            <div class="database-search">
                <input type="text" id="database-search" placeholder="Buscar passageiro..." onkeyup="filterPassengersDatabase()">
            </div>
            <div id="passengers-database-list" class="database-list">
                <!-- Lista de passageiros será inserida aqui -->
            </div>
        </div>
    </div>

    <!-- Modal: Viagens Arquivadas -->
    <div class="modal" id="archived-trips-modal">
        <div class="modal-content large">
            <div class="modal-header">
                <span>Viagens Arquivadas</span>
                <button class="close-modal-btn" onclick="closeArchivedTrips()">×</button>
            </div>
            <div class="database-search">
                <input type="text" id="archived-search" placeholder="Buscar viagem arquivada..." onkeyup="filterArchivedTrips()">
            </div>
            <div id="archived-trips-list" class="archived-list">
                <!-- Lista de viagens arquivadas será inserida aqui -->
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
